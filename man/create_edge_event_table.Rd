% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/event_relevant_functions.R
\name{create_edge_event_table}
\alias{create_edge_event_table}
\title{Create Edge Event Table from Event Table and Tree}
\usage{
create_edge_event_table(
  event_table,
  tree,
  anno_cols = c("haplotype_abbr", "region_name", "CN_change")
)
}
\arguments{
\item{event_table}{A data frame containing copy number events with columns:
\itemize{
\item parent: Parent node ID
\item child: Child node ID
\item haplotype: Haplotype information ("maternal" or "paternal")
\item region_name: Region identifier
\item CN_change: Copy number change value
\item Additional annotation columns as specified in anno_cols
}}

\item{tree}{A phylogenetic tree object that can be converted to an edge list
using as_edgelist()}

\item{anno_cols}{A character vector specifying which columns to use for creating
event labels. Default is c("haplotype_abbr", "region_name", "CN_change")}
}
\value{
A data frame summarizing events for each edge in the tree. The returned data frame
includes the following columns:
\itemize{
\item \code{edge_name}: A unique identifier for each edge, constructed as \code{parent_child}.
\item \code{edge_label}: A concatenated string of event labels for the edge, separated by newline characters.
\item \code{n_events}: The number of events associated with the edge.
}
}
\description{
This function generates an edge event table by combining information from an event table
and a tree structure. It creates a table that summarizes events associated with each edge
in the tree, including event labels and the number of events per edge.
}
\details{
The function performs these steps:
\enumerate{
\item Converts tree to edge list format
\item Creates abbreviated haplotype labels (M/P)
\item Combines annotation columns into event names
\item Groups events by edge
\item Creates multi-line labels for edges with multiple events
\item Orders results to match tree structure
}
}
\note{
Event labels are formatted as "HAPLOTYPE:REGION:CN_CHANGE" by default.
Multiple events on the same edge are separated by newlines.
}
\examples{
\dontrun{
events <- data.frame(
  parent = c("A", "A"),
  child = c("B", "C"),
  haplotype = c("maternal", "paternal"),
  region_name = c("chr1p", "chr2q"),
  CN_change = c(1, -1)
)
tree <- your_tree_object  # Replace with actual tree
edge_events <- create_edge_event_table(events, tree)
}

}
