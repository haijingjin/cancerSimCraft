% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dynamics_addin_functions.R
\name{prepare_tree_data}
\alias{prepare_tree_data}
\title{Prepare Cell Lineage Data for Tree Visualization}
\usage{
prepare_tree_data(cell_info)
}
\arguments{
\item{cell_info}{Data frame containing cell lineage information with columns:
clone, parent, birth_time, death_time, cell_index}
}
\value{
A list containing two data frames:
\itemize{
\item edges: Data frame with columns parent, child, edge_label, edge_length, and child_clone
\item nodes: Data frame with columns name, clone_type, and death_time
}
}
\description{
Transforms cell lineage information into a format suitable for phylogenetic tree visualization
by creating edge and node tables with appropriate attributes.
}
\details{
This function processes cell lineage data to create a tree structure representation:
\enumerate{
\item Replaces NA parents with "root_node" to establish a common ancestor
\item Assigns theoretical death times to living cells (cells with NA death_time)
\item Calculates edge lengths as the time between birth and death of each cell
\item Creates an edge table that defines connections between cells
\item Creates a node table with information about each cell and the root
}

The resulting data structure is compatible with tree visualization packages
such as ggtree and can be used to create cell lineage visualizations.
}
\examples{
# Example usage:
cell_info <- data.frame(
  parent = c(NA, 1, 1, 2),
  cell_index = c(1, 2, 3, 4),
  birth_time = c(0, 1, 1, 2),
  death_time = c(5, 3, NA, 4),
  clone = c("Clone1", "Clone1", "Clone2", "Clone2")
)

tree_data <- prepare_tree_data(cell_info)
print(tree_data$edges)  # Edge table
print(tree_data$nodes)  # Node table

}
\seealso{
\code{\link{simulate_sc_dynamics}}, \code{\link{plot_cell_tree}}
}
